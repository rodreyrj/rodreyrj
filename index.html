<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rodreyrj | Dise√±os Profesionales y Soporte Inform√°tico</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Estilos CSS */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d111b; /* Fondo oscuro */
            color: #e5e7eb; /* Texto claro */
            scroll-behavior: smooth;
        }
        .header-shadow-active {
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            background-color: #111827;
            transition: all 0.3s ease-in-out;
        }
        .header-initial {
            background-color: transparent;
        }
        .time-box {
            background-color: #374151;
            padding: 0.5rem 1.5rem;
            border-radius: 0.75rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }
        .time-number {
            font-size: 2rem;
            font-weight: 700;
            color: #3b82f6;
        }
        .time-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: #9ca3af;
            margin-top: 0.25rem;
        }
        .logo-img {
            height: 48px;
            width: auto;
            object-fit: contain;
            filter: brightness(1.2);
        }
        .service-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .service-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.2);
        }
        .page-transition {
            transition: opacity 0.3s ease-in-out;
        }
        /* Estilo espec√≠fico para las tarjetas de series */
        .series-card {
            background-color: #1f2937; /* Fondo m√°s oscuro para destacar */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .series-card:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 30px rgba(239, 68, 68, 0.3); /* Sombra roja */
        }

        /* Estilo para los botones de contacto en Qui√©n Soy */
        .contact-link {
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .whatsapp-bg { background-color: #25D366; }
        .whatsapp-bg:hover { background-color: #128C7E; transform: translateY(-2px); }
        .instagram-bg { background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%); }
        .instagram-bg:hover { opacity: 0.9; transform: translateY(-2px); }
        .email-bg { background-color: #EA4335; }
        .email-bg:hover { background-color: #D62D20; transform: translateY(-2px); }
    </style>
</head>
<body class="bg-gray-900">

    <!-- Header Contenedor - Se actualiza din√°micamente -->
    <header id="main-header" class="header-initial fixed top-0 left-0 z-50 w-full transition duration-300 ease-in-out">
        <!-- Contenido del header se inyecta aqu√≠ -->
    </header>

    <!-- Contenido Principal - Donde se cargan las vistas -->
    <main id="main-content" class="min-h-screen page-transition">
        <!-- Vistas de la p√°gina (Home, Servicios, Proyectos, Qui√©n Soy) se inyectan aqu√≠ -->
    </main>
    
    <!-- Footer (El footer siempre es est√°tico y visible) -->
    <footer id="footer" class="bg-gray-900 text-white border-t border-gray-800 pt-10 pb-4">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
            
            <!-- Columna 1: Logo y Misi√≥n -->
            <div>
                <a href="javascript:void(0);" onclick="navigateTo('home');" class="inline-flex items-center text-4xl font-extrabold text-blue-500 mb-4">
                    <img src="https://i.postimg.cc/J06sCDBm/unnamed-7-removebg-preview.png" alt="Logo de rodreyrj - Rayo" class="logo-img mr-3">
                    rodreyrj
                </a>
                <p class="text-gray-400 text-sm mt-2 max-w-xs md:max-w-none mx-auto md:mx-0">
                    Soporte t√©cnico y dise√±os web modernos, r√°pidos y optimizados. Aumenta tu presencia online y mejora tu tecnolog√≠a.
                </p>
            </div>

            <!-- Columna 2: Enlaces (Links) -->
            <div class="md:pl-16">
                <h4 class="text-lg font-bold text-white mb-4">Enlaces</h4>
                <ul class="space-y-2 text-gray-400 text-sm">
                    <li><a href="javascript:void(0);" onclick="navigateTo('home');" class="hover:text-blue-400">Inicio</a></li>
                    <li><a href="javascript:void(0);" onclick="navigateTo('quien-soy');" class="hover:text-blue-400">Qui√©n Soy</a></li>
                    <li><a href="javascript:void(0);" onclick="navigateTo('servicios-informaticos');" class="hover:text-blue-400">Servicios Inform√°ticos</a></li>
                    <li><a href="javascript:void(0);" onclick="navigateTo('plantillas');" class="hover:text-blue-400">Proyectos</a></li>
                </ul>
            </div>

            <!-- Columna 3: Contacto -->
            <div>
                <h4 id="contacto-footer" class="text-lg font-bold text-white mb-4">Contacto</h4>
                <div class="space-y-2 text-gray-400 text-sm">
                    <p class="flex items-center justify-center md:justify-start">
                        <span class="mr-2 text-blue-500">üìß</span> edgarromerocuc94@gmail.com
                    </p>
                    <!-- N√∫mero de tel√©fono en el footer -->
                    <p class="flex items-center justify-center md:justify-start">
                        <span class="mr-2 text-blue-500">üì±</span> +53 5663 9178
                    </p>
                    <p class="flex items-center justify-center md:justify-start">
                        <span class="mr-2 text-blue-500">üìç</span> Ciudad de Cob√°n, A.V. Guatemala
                    </p>
                </div>
            </div>
        </div>

        <!-- Copyright -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-10 border-t border-gray-800 pt-4">
            <p class="text-gray-500 text-xs text-center">
                ¬© 2025 rodreyrj. Todos los derechos reservados.
            </p>
        </div>
    </footer>


    <!-- Script de Funcionalidad -->
    <script>
        // --- CONSTANTES Y CONFIGURACI√ìN ---
        const LOGO_URL = "https://i.postimg.cc/J06sCDBm/unnamed-7-removebg-preview.png";
        const LOGO_TAG = `<img src="${LOGO_URL}" alt="Logo de rodreyrj - Rayo" class="logo-img mr-3">`;
        
        // URL del CSV con los datos de los proyectos
        const TEMPLATES_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTurxcfqNiMeXwH7GdrsL1MGih4HhKv7cS_g7JRgwu17i2IGeaaUV8FlMrir-f7wf9SgRw6g4WLw1BH/pub?output=csv";
        
        // URL del CSV para el Cat√°logo de Series
        const SERIES_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQMqFFyVFUM9e157cdDMwcX7DGmOj8DuL8ZUHMw9QAnNYn-tG1dDZ_u89Za19QPHjIvpBvc-q9E1SQR/pub?output=csv";

        // N√∫mero de WhatsApp (se utiliza para el enlace de WhatsApp)
        const WHATSAPP_NUMBER = "56639178"; 
        
        // N√öMERO DE TEL√âFONO PARA LLAMADA DIRECTA (ACTUALIZADO A CUBA +53)
        const PHONE_NUMBER = "+5356639178"; 
        
        // Correo del usuario
        const EMAIL_ADDRESS = "edgarromerocuc94@gmail.com"; 
        
        // Instagram del usuario
        const INSTAGRAM_URL = "https://www.instagram.com/rodreyrj?igsh=MWV0OTh0cGE3M2EzbA==";

        // L√≠mite de series a mostrar en la vista HOME
        const HOME_SERIES_LIMIT = 4;


        const mainContent = document.getElementById('main-content');
        const headerContainer = document.getElementById('main-header');
        const mobileMenuId = 'mobile-menu'; 
        let currentView = 'home';
        let countdownInterval;
        
        // Cach√© para los datos (Proyectos y Series)
        let templatesData = null; // Cach√© para los proyectos (plantillas)
        let seriesData = null;    // Cach√© para las series

        // --- L√ìGICA DE DATOS CSV ---

        function csvToArray(text) {
            const rows = text.trim().split('\n');
            if (rows.length < 2) return [];
            
            // Los encabezados se toman de la primera fila
            const headers = rows[0].split(',').map(h => h.trim());
            
            const data = [];
            for (let i = 1; i < rows.length; i++) {
                // Usamos una regex para manejar comas dentro de comillas (si las hubiera, aunque el split simple es suficiente para hojas de c√°lculo simples)
                const values = rows[i].split(',').map(v => v.trim());
                if (values.length !== headers.length) continue; 

                const item = {};
                headers.forEach((header, index) => {
                    // Normalizar el nombre de la propiedad
                    let cleanHeader = header.toLowerCase().replace(/[^a-z0-9]/g, '');
                    item[cleanHeader] = values[index];
                });

                data.push(item);
            }
            return data;
        }

        // Funci√≥n de obtenci√≥n de datos con cach√© (Para Proyectos/Plantillas)
        async function fetchTemplates() {
            if (templatesData) return templatesData; 

            try {
                const response = await fetch(TEMPLATES_CSV_URL);
                if (!response.ok) throw new Error(`Error al cargar el CSV de Proyectos: ${response.statusText}`);
                const csvText = await response.text();
                // Asumiendo el orden de la hoja de proyectos: URL, Proyecto-Name, Host, Descripcion
                const data = csvToArray(csvText); 
                templatesData = data; 
                return data;
            } catch (error) {
                console.error("Error fetching or parsing templates:", error);
                return []; 
            }
        }
        
        // Funci√≥n de obtenci√≥n de datos con cach√© (Para Series)
        async function fetchSeries() {
            if (seriesData) return seriesData; 

            try {
                const response = await fetch(SERIES_CSV_URL);
                if (!response.ok) throw new Error(`Error al cargar el CSV de Series: ${response.statusText}`);
                const csvText = await response.text();
                // Asumiendo el orden de la hoja de series: url, nombre, precio
                const data = csvToArray(csvText);
                seriesData = data;
                return data;
            } catch (error) {
                console.error("Error fetching or parsing series:", error);
                return []; 
            }
        }


        // --- VISTAS / TEMPLATES ---
        
        // Funci√≥n de manejo del bot√≥n de Llamada
        function handleCallNow() {
            // Usa el prefijo tel: para iniciar una llamada con el n√∫mero actualizado
            window.location.href = `tel:${PHONE_NUMBER}`;
        }

        const homeHeaderHTML = (isMobileMenuOpen) => `
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
                <a href="javascript:void(0);" onclick="navigateTo('home');" class="flex items-center text-3xl font-extrabold text-blue-500 hover:text-blue-400 transition duration-300">
                    ${LOGO_TAG} rodreyrj
                </a>
                
                <nav class="hidden md:flex space-x-6 text-sm font-medium">
                    <a href="javascript:void(0);" onclick="navigateTo('quien-soy');" class="text-gray-300 hover:text-blue-400 transition duration-200">Qui√©n Soy</a>
                    <a href="javascript:void(0);" onclick="navigateTo('servicios-informaticos');" class="text-white bg-blue-600 px-3 py-1 rounded-full hover:bg-blue-700 transition duration-200">Servicios Inform√°ticos</a>
                    <a href="javascript:void(0);" onclick="navigateTo('plantillas');" class="text-white bg-purple-600 px-3 py-1 rounded-full hover:bg-purple-700 transition duration-200">Proyectos</a>
                </nav>
                
                <button id="menu-toggle" class="md:hidden text-gray-300 hover:text-blue-500 focus:outline-none p-2 rounded-lg bg-gray-800" aria-label="Abrir Men√∫ M√≥vil">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${isMobileMenuOpen ? 'M6 18L18 6M6 6l12 12' : 'M4 6h16M4 12h16m-7 6h7'}"></path></svg>
                </button>
            </div>
            
            <nav id="${mobileMenuId}" class="md:hidden ${isMobileMenuOpen ? '' : 'hidden'} bg-gray-900 border-t border-gray-800">
                <div class="px-4 pt-4 pb-4 space-y-2">
                    <a href="javascript:void(0);" onclick="navigateTo('quien-soy')" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-800">Qui√©n Soy</a>
                    <a href="javascript:void(0);" onclick="navigateTo('servicios-informaticos')" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700">Servicios Inform√°ticos</a>
                    <a href="javascript:void(0);" onclick="navigateTo('plantillas')" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-purple-600 hover:bg-purple-700">Proyectos</a>
                </div>
                <div class="border-t border-gray-800 pt-4 px-4 pb-4">
                    <a href="javascript:void(0);" onclick="navigateTo('home');" class="inline-flex items-center text-2xl font-extrabold text-blue-500 mb-2">
                        ${LOGO_TAG} rodreyrj
                    </a>
                    <p class="text-gray-400 text-sm mt-1">
                        Soporte t√©cnico y dise√±os web modernos, r√°pidos y optimizados.
                    </p>
                </div>
            </nav>
        `;
        
        // Funci√≥n para generar las tarjetas de series con enlace a WhatsApp
        // El par√°metro `limit` define cu√°ntas series mostrar. Si es null, muestra todas.
        function generateSeriesHTML(data, limit = null) {
            if (!data || data.length === 0) {
                return `<div class="col-span-full text-center p-4 bg-gray-700 rounded-xl text-yellow-400">
                            No hay series disponibles en este momento.
                        </div>`;
            }

            const seriesToDisplay = limit ? data.slice(0, limit) : data;

            let html = seriesToDisplay.map(serie => {
                // Las propiedades son url, nombre, precio
                const name = serie.nombre || 'T√≠tulo Desconocido';
                const imageUrl = serie.url || `https://placehold.co/200x300/1f2937/ffffff?text=Serie`;
                const price = serie.precio || 'Consultar';
                
                // Generar el mensaje de WhatsApp codificado
                const whatsappMessage = `Me interesa la serie: *${name}* - con precio de *${price}*. Por favor, dame m√°s informaci√≥n.`;
                const whatsappLink = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(whatsappMessage)}`;
                
                return `
                    <div class="series-card rounded-xl shadow-lg border border-red-700/50 overflow-hidden">
                        <div class="h-56 bg-gray-800 overflow-hidden">
                            <img src="${imageUrl}" 
                                 alt="Portada de la serie ${name}" 
                                 class="w-full h-full object-cover"
                                 onerror="this.onerror=null; this.src='https://placehold.co/200x300/1f2937/ffffff?text=Imagen+No+Cargada';">
                        </div>
                        <div class="p-4">
                            <h4 class="text-lg font-bold text-white mb-2 truncate">${name}</h4>
                            <div class="flex justify-between items-center mt-2">
                                <span class="text-2xl font-extrabold text-red-400">${price}</span>
                                <a href="${whatsappLink}" 
                                   target="_blank" 
                                   rel="noopener noreferrer"
                                   class="text-sm bg-red-600 text-white py-2 px-4 rounded-full font-bold hover:bg-red-700 transition flex items-center space-x-1">
                                    <i class="fab fa-whatsapp"></i>
                                    <span>Me Interesa</span>
                                </a>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Si estamos en la vista HOME y hay m√°s series que el l√≠mite, a√±ade el bot√≥n "Ver M√°s"
            if (limit && data.length > limit) {
                html += `
                    <div class="col-span-full text-center mt-6">
                        <button onclick="navigateTo('catalogo-series')" 
                                class="bg-red-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-red-600 transition transform hover:scale-105 flex items-center justify-center mx-auto space-x-2">
                            <i class="fas fa-arrow-right"></i>
                            <span>Ver ${data.length - limit} Series M√°s</span>
                        </button>
                    </div>
                `;
            }
            
            return html;
        }

        const homeContentHTML = `
            <section class="max-w-4xl mx-auto px-4 py-8 text-center min-h-[50vh] flex flex-col justify-center items-center">
                <div class="inline-block bg-purple-600/50 text-white text-xs font-semibold px-4 py-1 rounded-full mb-4 border border-purple-500">
                    SERVICIO T√âCNICO Y WEB
                </div>
                <h1 class="text-5xl md:text-6xl font-extrabold leading-tight mb-4 text-white">
                    Soluciones Inform√°ticas <span class="text-blue-400">para tu Negocio y Hogar</span>
                </h1>
                <p class="text-lg md:text-xl text-gray-400 mb-8 max-w-2xl mx-auto">
                    Mantenimiento de sistemas, seguridad y presencia digital profesional. ¬°Trabajamos hasta las 6 PM!
                </p>
                <div class="bg-gray-800 p-6 rounded-2xl shadow-xl inline-block w-full md:max-w-md border border-gray-700">
                    <div id="service-status-message" class="flex items-center justify-center space-x-2 text-yellow-400 mb-4 font-bold text-xl">
                    </div>
                    <div id="countdown-timer" class="flex justify-center space-x-3 mb-6">
                    </div>
                    <!-- Acci√≥n de llamada directa actualizada con el nuevo n√∫mero -->
                    <button id="home-action-button" onclick="handleCallNow();" class="w-full bg-red-600 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-red-700 transition transform hover:scale-[1.01] disabled:bg-gray-600 disabled:cursor-not-allowed">
                        <span class="text-xl">üìû SOLICITAR SERVICIO AHORA</span>
                    </button>
                </div>
            </section>
            
            <!-- SECCI√ìN DE SERVICIOS DESTACADOS EN INICIO -->
            <section class="max-w-6xl mx-auto px-4 py-12 border-t border-gray-800">
                <h2 class="text-3xl font-bold text-white mb-8 text-center">Nuestros Servicios Principales</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-gray-800 p-6 rounded-xl border border-blue-600/50 hover:shadow-blue-500/30 shadow-lg transition">
                        <span class="text-4xl text-blue-400 mb-3 block">‚öôÔ∏è</span>
                        <h3 class="text-xl font-semibold text-white mb-2">Instalaci√≥n y Mantenimiento de SO</h3>
                        <p class="text-sm text-gray-400">Windows y Linux. Formateo y configuraci√≥n completa del sistema operativo.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-xl border border-purple-600/50 hover:shadow-purple-500/30 shadow-lg transition">
                        <span class="text-4xl text-purple-400 mb-3 block">üåê</span>
                        <h3 class="text-xl font-semibold text-white mb-2">Creaci√≥n de P√°ginas Web y Logos</h3>
                        <p class="text-sm text-gray-400">Dise√±o profesional de sitios web, logos y posters para tu marca.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-xl border border-red-600/50 hover:shadow-red-500/30 shadow-lg transition">
                        <span class="text-4xl text-red-400 mb-3 block">üõ°Ô∏è</span>
                        <h3 class="text-xl font-semibold text-white mb-2">Seguridad Inform√°tica</h3>
                        <p class="text-sm text-gray-400">Instalaci√≥n, actualizaci√≥n de antivirus y eliminaci√≥n de malware/cuentas.</p>
                    </div>
                </div>
                <div class="text-center mt-10">
                    <a href="javascript:void(0);" onclick="navigateTo('servicios-informaticos');" class="text-blue-400 font-bold hover:text-blue-300 transition">
                        Ver listado completo de servicios ‚Üí
                    </a>
                </div>
            </section>

            <!-- SECCI√ìN DE CAT√ÅLOGO DE SERIES (SOLO EN INICIO) -->
            <section class="max-w-6xl mx-auto px-4 py-12 border-t border-gray-800">
                <h2 class="text-3xl font-bold text-red-400 mb-8 text-center">üçø Nuestro Cat√°logo de Series (Destacadas)</h2>
                <div id="series-grid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                    <!-- Las tarjetas de series se inyectar√°n aqu√≠ -->
                </div>
                <div id="series-loading-message" class="text-center text-xl text-gray-400 mt-10 hidden">
                    Cargando cat√°logo...
                </div>
            </section>
        `;

        const secondaryHeaderHTML = (title) => `
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center bg-gray-900 border-b border-gray-800">
                <a href="javascript:void(0);" onclick="navigateTo('home');" class="flex items-center text-gray-300 hover:text-blue-400 transition duration-300 font-semibold text-sm">
                    <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    Inicio
                </a>
                <h1 class="text-xl font-extrabold text-white">${title}</h1>
                <a href="javascript:void(0);" onclick="handleCallNow();" class="text-sm font-medium text-blue-500 hover:text-blue-400 hidden sm:block">üìû Ll√°manos</a>
            </div>
        `;

        const quienSoyContentHTML = `
            <section class="max-w-4xl mx-auto px-4 py-12 pt-20">
                <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700">
                    <h2 class="text-4xl font-bold text-white mb-6 border-b border-gray-700 pb-3">Sobre m√≠: Soporte y Desarrollo Web</h2>
                    <p class="text-gray-400 text-lg mb-6">
                        Soy **rodreyrj**, especialista en soluciones inform√°ticas integrales. Mi objetivo es asegurar que tu tecnolog√≠a (hardware y software) funcione perfectamente, al mismo tiempo que potenciar tu presencia digital con dise√±os web profesionales y optimizados.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                        <div>
                            <h3 class="text-2xl font-semibold text-blue-400 mb-3">Mi Filosof√≠a</h3>
                            <p class="text-gray-400">Ofrecer soluciones r√°pidas y eficientes. Minimizar el tiempo de inactividad de tus equipos y maximizar la visibilidad de tu negocio online.</p>
                        </div>
                        <div>
                            <h3 class="text-2xl font-semibold text-blue-400 mb-3">Mis Pilares</h3>
                            <ul class="list-disc list-inside text-gray-400 space-y-2">
                                <li>Velocidad en respuesta t√©cnica.</li>
                                <li>Dise√±o web 100% profesional.</li>
                                <li>Compromiso con la seguridad de tus datos.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- SECCI√ìN DE CONTACTO -->
                    <div class="mt-10 pt-6 border-t border-gray-700">
                        <h3 class="text-2xl font-semibold text-blue-400 mb-4">Con√©ctate Conmigo</h3>
                        <p class="text-gray-400 mb-6">¬°Estoy disponible para cualquier consulta o proyecto! Haz clic para contactarme directamente.</p>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <!-- Enlace de WhatsApp -->
                            <a href="https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent('Me interesan sus servicios de soporte inform√°tico y dise√±o web.')}" 
                               target="_blank" rel="noopener noreferrer" 
                               class="contact-link whatsapp-bg text-white font-bold py-3 px-4 rounded-xl shadow-lg flex items-center justify-center space-x-3">
                                <i class="fab fa-whatsapp text-xl"></i>
                                <span class="text-sm">WhatsApp ${WHATSAPP_NUMBER}</span>
                            </a>
                            
                            <!-- Enlace de Instagram -->
                            <a href="${INSTAGRAM_URL}" 
                               target="_blank" rel="noopener noreferrer" 
                               class="contact-link instagram-bg text-white font-bold py-3 px-4 rounded-xl shadow-lg flex items-center justify-center space-x-3">
                                <i class="fab fa-instagram text-xl"></i>
                                <span class="text-sm">Instagram</span>
                            </a>

                            <!-- Enlace de Correo Electr√≥nico -->
                            <a href="mailto:${EMAIL_ADDRESS}" 
                               class="contact-link email-bg text-white font-bold py-3 px-4 rounded-xl shadow-lg flex items-center justify-center space-x-3">
                                <i class="fas fa-envelope text-xl"></i>
                                <span class="text-sm">${EMAIL_ADDRESS}</span>
                            </a>
                        </div>
                    </div>
                    <!-- FIN SECCI√ìN DE CONTACTO -->

                </div>
            </section>
        `;
        
        const serviciosInformaticosContentHTML = `
            <section class="max-w-6xl mx-auto px-4 py-12 pt-20">
                <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700">
                    <h2 class="text-4xl font-bold text-blue-400 mb-6 text-center border-b border-gray-700 pb-3">Servicios de Soporte y Dise√±o Digital</h2>
                    <p class="text-gray-400 text-lg mb-8 text-center max-w-3xl mx-auto">
                        Soluciones t√©cnicas esenciales y herramientas de dise√±o creativo para asegurar tu m√°xima operatividad y presencia de marca.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="service-card bg-gray-900 p-6 rounded-xl border border-blue-700/50 shadow-xl">
                            <div class="text-blue-500 text-4xl mb-4">
                                <i class="fas fa-desktop"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Reinstalaci√≥n de Sistema</h3>
                            <p class="text-gray-400">Instalaci√≥n y configuraci√≥n limpia de sistemas operativos **Windows** y **Linux** para m√°ximo rendimiento.</p>
                        </div>
                        <div class="service-card bg-gray-900 p-6 rounded-xl border border-green-700/50 shadow-xl">
                            <div class="text-green-500 text-4xl mb-4">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Seguridad y Antivirus</h3>
                            <p class="text-gray-400">Instalaci√≥n de **antivirus** l√≠der y **actualizaci√≥n** completa de software esencial del equipo.</p>
                        </div>
                        <div class="service-card bg-gray-900 p-6 rounded-xl border border-purple-700/50 shadow-xl">
                            <div class="text-purple-500 text-4xl mb-4">
                                <i class="fas fa-globe"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Creaci√≥n de P√°ginas Web</h3>
                            <p class="text-gray-400">Dise√±o y desarrollo de sitios web profesionales, **responsivos** y optimizados para cualquier plataforma.</p>
                        </div>
                        <div class="service-card bg-gray-900 p-6 rounded-xl border border-yellow-700/50 shadow-xl">
                            <div class="text-yellow-500 text-4xl mb-4">
                                <i class="fas fa-paint-brush"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Dise√±o de Logos</h3>
                            <p class="text-gray-400">Creaci√≥n de **logos profesionales** y √∫nicos que definen y fortalecen la identidad visual de tu marca.</p>
                        </div>
                        <div class="service-card bg-gray-900 p-6 rounded-xl border border-red-700/50 shadow-xl">
                            <div class="text-red-500 text-4xl mb-4">
                                <i class="fas fa-images"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Creaci√≥n de P√≥ster</h3>
                            <p class="text-sm text-gray-400">Dise√±o gr√°fico de p√≥sters, flyers y material promocional de alto impacto visual para eventos o negocios.</p>
                        </div>
                        <div class="service-card bg-gray-900 p-6 rounded-xl border border-gray-700/50 shadow-xl">
                            <div class="text-gray-500 text-4xl mb-4">
                                <i class="fas fa-user-times"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Eliminaci√≥n de Cuentas</h3>
                            <p class="text-gray-400">Asistencia para la **eliminaci√≥n segura** y desvinculaci√≥n de cuentas de **Google** en dispositivos.</p>
                        </div>
                    </div>

                    <div class="mt-10 p-5 bg-blue-900/30 rounded-xl text-center border border-blue-700">
                        <p class="text-lg font-bold text-white mb-3">¬øNecesitas ayuda inmediata? Estamos listos para comenzar.</p>
                        <!-- Acci√≥n de llamada directa actualizada con el nuevo n√∫mero -->
                        <button onclick="handleCallNow();" class="inline-block bg-blue-600 text-white font-bold py-3 px-8 rounded-xl hover:bg-blue-700 transition transform hover:scale-[1.02]">
                            üìû Ll√°manos para una Cotizaci√≥n R√°pida
                        </button>
                    </div>
                </div>
            </section>
        `;
        
        // Plantilla est√°tica con un contenedor para inyectar datos din√°micos (Proyectos)
        const basePlantillasContentHTML = `
            <section class="max-w-7xl mx-auto px-4 py-12 pt-20">
                <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700">
                    <h2 class="text-4xl font-bold text-purple-400 mb-6 border-b border-gray-700 pb-3">Cat√°logo de Proyectos Realizados</h2>
                    <p class="text-gray-400 text-lg mb-8">
                        Nuestros proyectos web m√°s recientes. Haz clic en 'Ver Demo' para previsualizar el proyecto completo.
                    </p>
                    <div id="plantillas-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Los proyectos din√°micos se inyectar√°n aqu√≠ -->
                    </div>
                    <!-- Mensaje de carga para PROYECTOS -->
                    <div id="loading-message" class="text-center text-xl text-gray-400 mt-10 hidden">
                        Preparando proyectos... Un momento por favor.
                    </div>
                </div>
            </section>
        `;

        // Plantilla est√°tica con un contenedor para inyectar datos din√°micos (Cat√°logo de Series)
        const baseSeriesCatalogContentHTML = `
            <section class="max-w-7xl mx-auto px-4 py-12 pt-20">
                <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700">
                    <h2 class="text-4xl font-bold text-red-400 mb-6 text-center border-b border-gray-700 pb-3">üé¨ Cat√°logo Completo de Series</h2>
                    <p class="text-gray-400 text-lg mb-8 text-center">
                        Explora la lista completa de series. Contacta por WhatsApp para m√°s detalles o realizar tu pedido.
                    </p>
                    <div id="full-series-grid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                        <!-- Todas las series din√°micas se inyectar√°n aqu√≠ -->
                    </div>
                    <!-- Mensaje de carga para SERIES -->
                    <div id="series-loading-full" class="text-center text-xl text-gray-400 mt-10 hidden">
                        Cargando cat√°logo completo...
                    </div>
                </div>
            </section>
        `;


        // Funci√≥n para generar las tarjetas de plantillas (proyectos)
        function generateTemplatesHTML(data) {
            if (!data || data.length === 0) {
                return `<div class="col-span-full text-center p-8 bg-gray-700 rounded-xl text-red-400">
                            No se encontraron proyectos o hubo un error al cargar los datos.
                        </div>`;
            }

            return data.map(template => {
                // Las propiedades son url, proyectoname, host, descripcion
                const description = template.descripcion || 'Dise√±o web profesional y responsivo.';
                const name = template.proyectoname || 'Proyecto Web';
                const imageUrl = template.url || `https://placehold.co/400x200/3b82f6/ffffff?text=${name}`;
                
                return `
                    <div class="bg-gray-700 p-4 rounded-xl border border-gray-600 shadow-lg hover:shadow-purple-500/30 transition-shadow duration-300">
                        <div class="h-40 bg-gray-600 rounded-lg mb-3 overflow-hidden">
                            <img src="${imageUrl}" 
                                 alt="Vista previa del proyecto ${name}" 
                                 class="w-full h-full object-cover transition transform hover:scale-105"
                                 onerror="this.onerror=null; this.src='https://placehold.co/400x200/3b82f6/ffffff?text=Imagen+No+Cargada';">
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">${name}</h3>
                        <p class="text-sm text-gray-400 mb-3">${description}</p>
                        <a href="${template.host}" target="_blank" rel="noopener noreferrer" 
                           class="w-full inline-block text-center bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition">
                            Ver Demo
                        </a>
                    </div>
                `;
            }).join('');
        }

        // --- L√ìGICA DE NAVEGACI√ìN Y HORARIO ---

        function handleScroll() {
            const header = document.getElementById('main-header');
            if (window.scrollY > 50) { 
                header.classList.add('header-shadow-active');
                header.classList.remove('header-initial');
            } else if (currentView === 'home') {
                header.classList.remove('header-shadow-active');
                header.classList.add('header-initial');
            }
        }

        function updateServiceStatus() {
            const hoursElement = document.getElementById('timer-hours');
            const minsElement = document.getElementById('timer-mins');
            const secsElement = document.getElementById('timer-secs');
            const statusMessage = document.getElementById('service-status-message');
            const actionButton = document.getElementById('home-action-button');

            if (!hoursElement || !statusMessage || !actionButton) {
                if (countdownInterval) clearInterval(countdownInterval);
                return;
            }

            const now = new Date();
            const closeHour = 18; 
            
            const targetTime = new Date(now);
            targetTime.setHours(closeHour, 0, 0, 0); 
            
            let distance = targetTime.getTime() - now.getTime();

            if (now.getHours() >= closeHour) {
                statusMessage.innerHTML = '<span class="text-2xl text-red-500">‚ùå</span> SERVICIO CERRADO';
                actionButton.textContent = 'Servicio Cerrado (Abrimos ma√±ana)';
                actionButton.disabled = true;
                
                // Asegurar que el bot√≥n no intente llamar cuando est√° deshabilitado
                actionButton.onclick = null; 
                
                hoursElement.textContent = '00';
                minsElement.textContent = '00';
                secsElement.textContent = '00';
                return;
            } 

            if (now.getHours() < closeHour) {
                statusMessage.innerHTML = '<span class="text-xl">‚è±Ô∏è</span> CIERRA EN:';
                actionButton.textContent = 'üìû SOLICITAR SERVICIO AHORA';
                actionButton.disabled = false;
                // Restablecer la funci√≥n de llamada si el servicio est√° activo
                actionButton.onclick = handleCallNow; 
                
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                const formatTime = (time) => String(time).padStart(2, '0');

                hoursElement.textContent = formatTime(hours);
                minsElement.textContent = formatTime(minutes);
                secsElement.textContent = formatTime(seconds);
            }
        }

        function startCountdown() {
            if (countdownInterval) clearInterval(countdownInterval); 
            const timerContainer = document.getElementById('countdown-timer');
            if (timerContainer) {
                timerContainer.innerHTML = `
                    <div class="time-box"><span id="timer-hours" class="time-number">--</span><span class="time-label">HORAS</span></div>
                    <span class="text-blue-500 text-4xl font-bold">:</span>
                    <div class="time-box"><span id="timer-mins" class="time-number">--</span><span class="time-label">MIN</span></div>
                    <span class="text-blue-500 text-4xl font-bold">:</span>
                    <div class="time-box"><span id="timer-secs" class="time-number">--</span><span class="time-label">SEG</span></div>
                `;
            }

            updateServiceStatus(); 
            countdownInterval = setInterval(updateServiceStatus, 1000); 
        }

        // Funci√≥n para renderizar el cat√°logo de series en la vista de inicio (Limitado)
        async function renderHomeSeriesCatalog() {
            const seriesGrid = document.getElementById('series-grid');
            const loadingMessage = document.getElementById('series-loading-message');
            
            if (!seriesGrid) return; 

            // 1. Muestra mensaje de carga
            if (loadingMessage) loadingMessage.style.display = 'block';

            const data = await fetchSeries(); 
            
            // 2. Cuando los datos lleguen, oculta el mensaje y renderiza con l√≠mite
            if (loadingMessage) loadingMessage.style.display = 'none';
            // Limitamos a HOME_SERIES_LIMIT (4) y generamos el bot√≥n "Ver M√°s" si es necesario.
            seriesGrid.innerHTML = generateSeriesHTML(data, HOME_SERIES_LIMIT);
        }
        
        // Funci√≥n para renderizar el cat√°logo completo de series
        async function renderFullSeriesCatalog() {
            const seriesGrid = document.getElementById('full-series-grid');
            const loadingMessage = document.getElementById('series-loading-full');
            
            if (!seriesGrid) return; 

            // 1. Muestra mensaje de carga
            if (loadingMessage) loadingMessage.style.display = 'block';

            const data = await fetchSeries(); 
            
            // 2. Cuando los datos lleguen, oculta el mensaje y renderiza TODAS las series
            if (loadingMessage) loadingMessage.style.display = 'none';
            seriesGrid.innerHTML = generateSeriesHTML(data, null); // Sin l√≠mite (muestra todo)
        }


        async function renderView(viewName) {
            let headerHTML = '';
            let contentHTML = '';
            let pageTitle = '';
            let needsAsyncRender = false;

            // 1. Determinar el contenido de la vista
            switch (viewName) {
                case 'home':
                    pageTitle = 'rodreyrj | Inicio';
                    headerHTML = homeHeaderHTML(false);
                    contentHTML = homeContentHTML;
                    break;
                case 'quien-soy':
                    pageTitle = 'Qui√©n Soy';
                    headerHTML = secondaryHeaderHTML(pageTitle);
                    contentHTML = quienSoyContentHTML;
                    break;
                case 'servicios-informaticos':
                    pageTitle = 'Servicios Inform√°ticos';
                    headerHTML = secondaryHeaderHTML(pageTitle);
                    contentHTML = serviciosInformaticosContentHTML;
                    break;
                case 'plantillas':
                    pageTitle = 'Proyectos'; 
                    headerHTML = secondaryHeaderHTML(pageTitle);
                    contentHTML = basePlantillasContentHTML;
                    needsAsyncRender = true; // Necesita renderizado as√≠ncrono de proyectos
                    break;
                case 'catalogo-series':
                    pageTitle = 'Cat√°logo de Series'; 
                    headerHTML = secondaryHeaderHTML(pageTitle); // Usa el header secundario para esta vista
                    contentHTML = baseSeriesCatalogContentHTML;
                    needsAsyncRender = true; // Necesita renderizado as√≠ncrono de series
                    break;
                default:
                    renderView('home');
                    return;
            }

            // 2. Realizar la transici√≥n visual
            mainContent.style.opacity = '0';
            
            setTimeout(async () => {
                // 3. Actualizar el contenido y las clases
                currentView = viewName;
                document.title = pageTitle;
                
                headerContainer.innerHTML = headerHTML;
                mainContent.innerHTML = contentHTML;
                
                // Limpiar y restablecer el listener de scroll
                if (viewName !== 'home') {
                    headerContainer.classList.add('header-shadow-active');
                    window.removeEventListener('scroll', handleScroll);
                } else {
                    window.addEventListener('scroll', handleScroll);
                    handleScroll(); 
                }
                
                // 4. Iniciar/Detener l√≥gica espec√≠fica de la vista
                if (viewName === 'home') {
                    startCountdown(); 
                    await renderHomeSeriesCatalog(); // Renderiza series limitadas
                } else {
                    if (countdownInterval) clearInterval(countdownInterval); 
                }

                // 5. Manejo del contenido as√≠ncrono (Proyectos y Cat√°logo de Series)
                if (needsAsyncRender) {
                    if (viewName === 'plantillas') {
                        const templatesGrid = document.getElementById('plantillas-grid');
                        const loadingMessage = document.getElementById('loading-message');
                        if (loadingMessage) loadingMessage.style.display = 'block';

                        const data = await fetchTemplates(); 
                        if (loadingMessage) loadingMessage.style.display = 'none';
                        templatesGrid.innerHTML = generateTemplatesHTML(data);
                    } else if (viewName === 'catalogo-series') {
                        await renderFullSeriesCatalog(); // Renderiza todas las series
                    }
                }

                // 6. Finalizar la transici√≥n
                window.scrollTo(0, 0);
                mainContent.style.opacity = '1';

                // 7. Re-adjuntar listener del men√∫ m√≥vil (ESENCIAL)
                const menuButton = document.getElementById('menu-toggle');
                if (menuButton) {
                    menuButton.removeEventListener('click', toggleMenu); 
                    menuButton.addEventListener('click', toggleMenu);
                }

            }, 300); 
        }

        // 8. Funci√≥n de Navegaci√≥n Global
        function navigateTo(viewName) {
            const mobileMenu = document.getElementById(mobileMenuId);
            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                toggleMenu(); 
            }
            renderView(viewName);
        }

        // 9. Funci√≥n para el men√∫ m√≥vil
        function toggleMenu() {
            const mobileMenu = document.getElementById(mobileMenuId);
            if (mobileMenu) {
                const isOpen = mobileMenu.classList.toggle('hidden');
                // Al abrir/cerrar el men√∫, re-renderizamos el header para asegurar la vinculaci√≥n
                if (currentView === 'home') {
                    headerContainer.innerHTML = homeHeaderHTML(!isOpen);
                    // Re-adjuntar listener del men√∫ m√≥vil (ESENCIAL)
                    const menuButton = document.getElementById('menu-toggle');
                    if (menuButton) {
                        menuButton.removeEventListener('click', toggleMenu); 
                        menuButton.addEventListener('click', toggleMenu);
                    }
                }
            }
        }
        
        // --- INICIALIZACI√ìN ---
        window.onload = function() {
            // OPTIMIZACI√ìN: Iniciamos la precarga de AMBOS cat√°logos tan pronto como la p√°gina carga.
            fetchTemplates(); 
            fetchSeries(); 
            renderView('home');
            window.addEventListener('scroll', handleScroll); 
        };
    </script>

</body>
</html>
